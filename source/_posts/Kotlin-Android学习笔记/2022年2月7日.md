---
title: 实习笔记-14
date: 2022-03-22 21:15:36
tags: Kotlin-Android 实习
categories: Kotlin-Android
toc: true
language: zh-CN
---

## 更新桌面小组件

1. Handler更新：只能坚持几秒钟
2. Service发送广播更新
   1. Service的context从onReceive获取，一切正常。会存在保活的问题，至少30分钟系统才调用onUpdate一次
   2. 使用lateinit保存onUpdate的context，会报错`lateinit property mContext has not been initialized`
3. onUpdate暴力递归 点击后无法更新

