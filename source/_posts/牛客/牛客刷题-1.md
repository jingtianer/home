---
title: 牛客刷题-1
date: 2019-02-12 21:15:36
tags: 
    - 牛客
    - 刷题
categories: 
    - 牛客
    - 刷题
toc: true
language: zh-CN
---

## 小米2019秋招安卓开发笔试题（B）

### 21. 最少立方数之和
给出一个数字N（0<N<1000000）,将N写成立方数和的形式，求出需要的最少立方数个数。
例如N=17，1+8+8 = 17，最少需要3个立方数，则输出3。
N= 28,1+1+1+1+8+8+8=28, 需要7个立方数，1+27=28,需要2个立方数，所以最少立方数为2，则输出2。

```java
import java.util.*;
 
// 注意类名必须为 Main, 不要有任何 package xxx 信息
public class Main {
    private static final List<Integer> cubs;
    private static final int cubNum;
    static {
        cubs = new ArrayList<Integer>();
        for(int i = 1; i*i*i <= 1000000; i++) {
            cubs.add(i*i*i);
        }
        cubNum = cubs.size();
    }
    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        // 注意 hasNext 和 hasNextLine 的区别
        while (in.hasNextInt()) { // 注意 while 处理多个 case
            int n = in.nextInt();
            int index = Collections.binarySearch(cubs, n);
            if(index < 0) {
                index = -index - 2;
            }
            if(index < 0) {
                throw new RuntimeException("unreachable");
            }
            int[] dp = new int[n+1];
            Arrays.fill(dp, Integer.MAX_VALUE);
            dp[0] = 0;
            for(int j = 1; j <= index+1; j++) {
                for(int i = cubs.get(j-1); i <= n; i++) {
                    dp[i] = Math.min(dp[i], dp[i - cubs.get(j-1)] + 1);
                }
            }
            System.out.println(dp[n]);
        }
    }
}
```

背包，从所有立方数里选数，取数目最小的情况

### 资产包打包
在金融资产交易中，经常涉及到资产包的挑选打包。在资产包打包过程中，每种类型的资产有固定的数量与价值，需选择某几种资产打包，使得资产包总价值最大。打包时每种资产只能整体打包，不能分割。假设现有可容纳M条资产的资产包，另外有N种资产。资产Na数量为Ta条，总价值为Va元；资产Nb数量为Tb条，总价值为Vb元；资产Nc数量为Tc条，总价值为Vc元......；资产Nn数量为Tn，总价值为Vn。编写算法，挑选哪些类型资产放入资产包可使得资产包总价值最大？
```java
import java.util.Scanner;

// 注意类名必须为 Main, 不要有任何 package xxx 信息
public class Main {
    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        while (in.hasNext()) {
            String[] input = in.nextLine().split(",");
            int index = 0;
            int W = Integer.parseInt(input[index++], 10);
            int N = Integer.parseInt(input[index++], 10);
            int[][] properties = new int[N][2];
            String[] weights = input[index++].split(" ");
            for (int i = 0; i < N; i++) {
                properties[i][0] = Integer.parseInt(weights[i], 10);
            }
            String[] values = input[index++].split(" ");
            for (int i = 0; i < N; i++) {
                properties[i][1] = Integer.parseInt(values[i], 10);
            }
            int[] dp = new int[W + 1];
            for (int i = 1; i <= N; i++) {
                for (int j = W; j >= properties[i - 1][0]; j--) {
                    dp[j] = Math.max(dp[j],
                                        dp[j - properties[i - 1][0]] + properties[i - 1][1]);
                }
            }
            System.out.println(dp[W]);
        }
    }
}
```

> 背包问题，要注意0-1背包和完全背包的区别


- 无压缩情况
  - 0-1背包转移方程为：
    - `dp[i][j] = max(dp[i][j], dp[i-1][j-wi]+vi)` (当j >= wi时)
    - `dp[i][j] = dp[i][j]` (当j < wi时)
  - 完全背包转移方程为：
    - `dp[i][j] = max(dp[i][j], dp[i][j-wi]+vi)` (当j >= wi时) **这里是dp[i]**
    - `dp[i][j] = dp[i][j]` (当j < wi时)
- 有压缩情况
  - 0-1背包对容量是逆向遍历
  - 完全背包是正向遍历

### super和this关键字

- this()和super()不可以同时出现在同一个构造函数中
- this()或super()要放在构造函数第一行

### Android数据存储方式

- SharedPreference
- File
- SQLite
- Content Provider
- 网络

> 题目中说Bundle也可以，但是应该不对
> Bundle是可以序列化，但是一般不作为存储数据的方式
>

### 广播

> **×** 当静态注册的广播设置的优先级高于动态注册的广播时，静态注册将先接收到广播

- 动态广播跟随Activity/Application的生命周期，静态广播不受限制。
- 非有序广播的情况下，动态广播总是要优先于静态广播


### Android动画分类

### IntentService（已经弃用）

- 对Service的包装
- 默认实现onBind，返回null
- 包含一个HandlerThread(的looper)，（Service本身不包括线程，运行在主线程）
- 持有一个handler，每次start把intent放入msg的obj里，用handler发送

```java
@Deprecated
public abstract class IntentService extends Service {
```

```java
private final class ServiceHandler extends Handler {
    public ServiceHandler(Looper looper) {
        super(looper);
    }

    @Override
    public void handleMessage(Message msg) {
        onHandleIntent((Intent)msg.obj);
        stopSelf(msg.arg1);
    }
}

@WorkerThread
protected abstract void onHandleIntent(@Nullable Intent intent); //运行在WorkerThread中

@Override
public void onStart(@Nullable Intent intent, int startId) {
    Message msg = mServiceHandler.obtainMessage();
    msg.arg1 = startId;
    msg.obj = intent;
    mServiceHandler.sendMessage(msg);
}

@Override
public int onStartCommand(@Nullable Intent intent, int flags, int startId) {
    onStart(intent, startId);
    return mRedelivery ? START_REDELIVER_INTENT : START_NOT_STICKY;
}
```

## 小米2019秋招安卓开发笔试题（A）


### 进制间转换
设计一个函数， 可以将任意十进制的数， 转换成任意2到9的进制表示的形式

```java
import java.util.Scanner;

// 注意类名必须为 Main, 不要有任何 package xxx 信息
public class Main {
    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        // 注意 hasNext 和 hasNextLine 的区别
        while (in.hasNext()) { // 注意 while 处理多个 case
            long n = in.nextLong();
            int base = in.nextInt();
            if(n == 0) {
                System.out.println("0");
                continue;
            }
            StringBuilder sb = new StringBuilder();
            while(n > 0) {
                sb.append(n % base);
                n /= base;
            }
            sb.reverse();
            System.out.println(sb);
        }
    }
}
```


### CCNumber
CC最近对一种整数比较感兴趣，我们暂且把这种整数称为C Number, C Number是指一个整数
{C0, C1 … Cn-1} (C0 > 0 , n >= 3)， 存在一个Cm（`0<m<n-1`）满足以下条件:
- Ci-1 < Ci (`0<i<=m`), Ci代表这个整数中的第i位数字
- Ci>Ci+1(`m<=i<n-1`)
- 如果一个整数里面有相邻的2个C Number的话，我们称这个整数为CC Number（2个C Number不可以有公用的数字Ci，并且2个C Number要紧紧相邻）。

请在[A,B]区间内找出找出score最大的CCNumber 并输出这个score.(score：CC Number中所有数字的和)


### Activity跳转
FirstActivity跳转到SecondActivity后，然后点击返回键，以下执行顺序不可能出现的是：

`SecondActivity的onPause()`->`SecondActivity的onStop()`->`SecondActivity的onDestroy()`->`FirstActivity的onRestart()`->`FirstActivity的onResume()`

不会在下一个Activity出现可见前，把当前Activity变成不可见的，（进入stop/destroy）

### ANR

input事件在5s内没有处理完成会发生ANR
前台广播的onReceive处理事务时超过10s会发生ANR
后台Service在200s内没有处理完成会发生ANR
前台Service在20s内没有处理完成会发生ANR

### APP进程

一个APP可以运行在多个进程
多个APP可以运行在同一进程


## 顺丰科技2019秋招安卓开发工程师笔试客观题合集

### select into和insert into
```sql
SELECT xxx INTO target_table FROM origin_table
```

- 要求执行前表不存在，会自动创建


```sql
INSERT INTO target_table (filed1, field2, ...) VALUES (val1, val2, ...)
```

- 要求执行前表已经存在

### EventBus

### 简单实现一套view的注入框架（）