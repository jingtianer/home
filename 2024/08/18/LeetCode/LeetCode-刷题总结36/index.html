<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>LeetCode-36 - Jingtianer</title><link rel="manifest" href="/home/manifest.json"><meta name="application-name" content="Jingtianer"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Jingtianer"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="551. 学生出勤记录 I1234567891011121314151617181920class Solution &amp;amp;#123;public:    bool checkRecord(string s) &amp;amp;#123;        int count &amp;#x3D; 0;        int max_seq_late &amp;#x3D; 0;        int seq_late &amp;#x3D; 0;        for(cha"><meta property="og:type" content="blog"><meta property="og:title" content="LeetCode-36"><meta property="og:url" content="https://jingtianer.github.io/home/2024/08/18/LeetCode/LeetCode-%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%9336/"><meta property="og:site_name" content="Jingtianer"><meta property="og:description" content="551. 学生出勤记录 I1234567891011121314151617181920class Solution &amp;amp;#123;public:    bool checkRecord(string s) &amp;amp;#123;        int count &amp;#x3D; 0;        int max_seq_late &amp;#x3D; 0;        int seq_late &amp;#x3D; 0;        for(cha"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://jingtianer.github.io/home/img/og_image.png"><meta property="article:published_time" content="2024-08-18T03:14:34.000Z"><meta property="article:modified_time" content="2025-04-15T02:37:55.602Z"><meta property="article:author" content="Meow Meow Liu"><meta property="article:tag" content="LeetCode"><meta property="article:tag" content="算法"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://jingtianer.github.io/home/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://jingtianer.github.io/home/2024/08/18/LeetCode/LeetCode-%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%9336/"},"headline":"LeetCode-36","image":["https://jingtianer.github.io/home/img/og_image.png"],"datePublished":"2024-08-18T03:14:34.000Z","dateModified":"2025-04-15T02:37:55.602Z","author":{"@type":"Person","name":"Meow Meow Liu"},"publisher":{"@type":"Organization","name":"Jingtianer","logo":{"@type":"ImageObject","url":{"text":"Meow!!"}}},"description":"551. 学生出勤记录 I1234567891011121314151617181920class Solution &amp;#123;public:    bool checkRecord(string s) &amp;#123;        int count &#x3D; 0;        int max_seq_late &#x3D; 0;        int seq_late &#x3D; 0;        for(cha"}</script><link rel="canonical" href="https://jingtianer.github.io/home/2024/08/18/LeetCode/LeetCode-%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%9336/"><link rel="alternate" href="/home/atom.xml" title="Jingtianer" type="application/atom+xml"><link rel="icon" href="/home/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/vs.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/home/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/home/">Meow!!</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/home/">主页</a><a class="navbar-item" href="/home/archives">归档</a><a class="navbar-item" href="/home/categories">分类</a><a class="navbar-item" href="/home/tags">标签</a><a class="navbar-item" href="/home/about">关于我</a><a class="navbar-item" href="/home/tags/gallery">相册</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-08-18T03:14:34.000Z" title="2024/8/18 11:14:34">2024-08-18</time>发表</span><span class="level-item"><time dateTime="2025-04-15T02:37:55.602Z" title="2025/4/15 10:37:55">2025-04-15</time>更新</span><span class="level-item"><a class="link-muted" href="/home/categories/LeetCode/">LeetCode</a><span> / </span><a class="link-muted" href="/home/categories/LeetCode/%E7%AE%97%E6%B3%95/">算法</a></span><span class="level-item">44 分钟读完 (大约6551个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">LeetCode-36</h1><div class="content"><h2 id="551-学生出勤记录-I"><a href="#551-学生出勤记录-I" class="headerlink" title="551. 学生出勤记录 I"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/student-attendance-record-i/description/?envType=daily-question&envId=2024-08-18">551. 学生出勤记录 I</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">checkRecord</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> max_seq_late = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> seq_late = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c : s) &#123;</span><br><span class="line">            <span class="keyword">if</span>(c == <span class="string">&#x27;A&#x27;</span>) count++;</span><br><span class="line">            <span class="keyword">if</span>(c == <span class="string">&#x27;L&#x27;</span>) &#123;</span><br><span class="line">                seq_late++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                max_seq_late = <span class="built_in">max</span>(max_seq_late, seq_late);</span><br><span class="line">                seq_late = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        max_seq_late = <span class="built_in">max</span>(max_seq_late, seq_late);</span><br><span class="line">        <span class="keyword">return</span> count &lt; <span class="number">2</span> &amp;&amp; max_seq_late &lt; <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>连续相同的值的个数</li>
<li>统计元素出现的次数</li>
</ul>
<h2 id="3137-K-周期字符串需要的最少操作次数"><a href="#3137-K-周期字符串需要的最少操作次数" class="headerlink" title="3137. K 周期字符串需要的最少操作次数"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-number-of-operations-to-make-word-k-periodic/description/?envType=daily-question&envId=2024-08-17">3137. K 周期字符串需要的最少操作次数</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minimumOperationsToMakeKPeriodic</span><span class="params">(string word, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;string, <span class="type">int</span>&gt; subStrCount;</span><br><span class="line">        <span class="type">int</span> len = word.<span class="built_in">length</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i += k) &#123;</span><br><span class="line">            subStrCount[word.<span class="built_in">substr</span>(i, k)]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> minOpCnt = len / k;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; ite : subStrCount) &#123;</span><br><span class="line">            minOpCnt = <span class="built_in">min</span>(minOpCnt, len / k - ite.second);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> minOpCnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>翻译一下规则，就是把长度为<code>nk</code>的字符串切割成<code>n</code>个长度为<code>k</code>的子串，一次操作可以把一个子串替换成另一个字串，求如何替换，将所有字串都相同。</li>
<li>翻译好需求，就很清楚了，直接统计每个字串出现的次数，取出现次数最大的，替换次数最少，为<code>n - cnt[i]</code></li>
</ul>
<h2 id="3117-划分数组得到最小的值之和"><a href="#3117-划分数组得到最小的值之和" class="headerlink" title="3117. 划分数组得到最小的值之和"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-sum-of-values-by-dividing-array/description/?envType=daily-question&envId=2024-08-16">3117. 划分数组得到最小的值之和</a></h2><h3 id="超时暴搜"><a href="#超时暴搜" class="headerlink" title="超时暴搜"></a>超时暴搜</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="type">int</span> m;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> minSum = <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minimumValueSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, vector&lt;<span class="type">int</span>&gt;&amp; andValues)</span> </span>&#123;</span><br><span class="line">        n = nums.<span class="built_in">size</span>();</span><br><span class="line">        m = andValues.<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;vector&lt;<span class="type">unsigned</span> <span class="type">int</span>&gt;&gt; <span class="built_in">andMat</span>(n, <span class="built_in">vector</span>&lt;<span class="type">unsigned</span> <span class="type">int</span>&gt;(n, INT_MAX));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            andMat[i][i] = nums[i];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">                andMat[i][j] = andMat[i][j<span class="number">-1</span>] &amp; nums[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">search</span>(andMat, andValues, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> minSum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">search</span><span class="params">(<span class="type">const</span> vector&lt;vector&lt;<span class="type">unsigned</span> <span class="type">int</span>&gt;&gt;&amp; andMat, <span class="type">const</span> vector&lt;<span class="type">int</span>&gt;&amp; andValues, <span class="type">int</span> depth, <span class="type">int</span> start, <span class="type">unsigned</span> <span class="type">int</span> sum)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(depth + <span class="number">1</span> == m) &#123;</span><br><span class="line">            <span class="keyword">if</span>(andMat[start][n<span class="number">-1</span>] == andValues[m<span class="number">-1</span>]) &#123;</span><br><span class="line">                minSum = <span class="built_in">min</span>(minSum, sum + andMat[n<span class="number">-1</span>][n<span class="number">-1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = start + <span class="number">1</span>; i &lt; n - m + depth + <span class="number">2</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(andMat[start][i<span class="number">-1</span>] == andValues[depth]) &#123;</span><br><span class="line">                <span class="built_in">search</span>(andMat, andValues, depth + <span class="number">1</span>, i, sum + andMat[i<span class="number">-1</span>][i<span class="number">-1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="3148-矩阵中的最大得分"><a href="#3148-矩阵中的最大得分" class="headerlink" title="3148. 矩阵中的最大得分"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximum-difference-score-in-a-grid/description/?envType=daily-question&envId=2024-08-15">3148. 矩阵中的最大得分</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxScore</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> m = grid.<span class="built_in">size</span>(), n = grid[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">mat</span>(m, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n, INT_MIN));</span><br><span class="line">        <span class="type">int</span> maxScore = INT_MIN;</span><br><span class="line">        mat[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i &gt; <span class="number">0</span>) mat[i][j] = <span class="built_in">max</span>(<span class="built_in">max</span>(mat[i][j], grid[i][j] - grid[i<span class="number">-1</span>][j]), mat[i<span class="number">-1</span>][j] + grid[i][j] - grid[i<span class="number">-1</span>][j]);</span><br><span class="line">                <span class="keyword">if</span>(j &gt; <span class="number">0</span>) mat[i][j] = <span class="built_in">max</span>(<span class="built_in">max</span>(mat[i][j], grid[i][j] - grid[i][j<span class="number">-1</span>]), mat[i][j<span class="number">-1</span>] + grid[i][j] - grid[i][j<span class="number">-1</span>]);</span><br><span class="line">                <span class="keyword">if</span>(i &gt; <span class="number">0</span> || j &gt; <span class="number">0</span>) maxScore = <span class="built_in">max</span>(maxScore, mat[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxScore;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>只能向下或向右走，所以右下方的格子不会影响左上方格子的最终结果，直接拿上方格子和左方格子的值计算，并存储到达每个格子的最小值就好。</li>
</ul>
<h2 id="3152-特殊数组-II"><a href="#3152-特殊数组-II" class="headerlink" title="3152. 特殊数组 II"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/special-array-ii/description/?envType=daily-question&envId=2024-08-14">3152. 特殊数组 II</a></h2><h3 id="二分"><a href="#二分" class="headerlink" title="二分"></a>二分</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">isArraySpecial</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; queries)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; startIndex, endIndex;</span><br><span class="line">        vector&lt;<span class="type">bool</span>&gt; ans;</span><br><span class="line">        <span class="type">int</span> s = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(((nums[i] &amp; <span class="number">1</span>) ^ (nums[i<span class="number">-1</span>] &amp; <span class="number">1</span>)) == <span class="number">0</span>) &#123;</span><br><span class="line">                startIndex.<span class="built_in">push_back</span>(s);</span><br><span class="line">                endIndex.<span class="built_in">push_back</span>(i - <span class="number">1</span>);</span><br><span class="line">                s = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        startIndex.<span class="built_in">push_back</span>(s);</span><br><span class="line">        endIndex.<span class="built_in">push_back</span>(n - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;query : queries) &#123;</span><br><span class="line">            <span class="type">int</span> start = query[<span class="number">0</span>], end = query[<span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> findIndex = <span class="built_in">upper_bound</span>(startIndex.<span class="built_in">begin</span>(), startIndex.<span class="built_in">end</span>(), start) - startIndex.<span class="built_in">begin</span>() - <span class="number">1</span>;</span><br><span class="line">            ans.<span class="built_in">push_back</span>(endIndex[findIndex] &gt;= end);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>lower_bound</code>: 直译是下界，实际上是上确界，也就是可以等于被查找的元素</li>
<li><code>upper_bound</code>: 直译是上界，也就是不可以等于被查找的元素</li>
</ul>
<h3 id="模仿线段树"><a href="#模仿线段树" class="headerlink" title="模仿线段树"></a>模仿线段树</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">SegTree</span> &#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt;&amp; nums;</span><br><span class="line">        vector&lt;<span class="type">bool</span>&gt; segTree;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        <span class="type">int</span> alignedSize;</span><br><span class="line">        <span class="function"><span class="type">unsigned</span> <span class="type">int</span> <span class="title">alignment</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">            <span class="type">unsigned</span> <span class="type">int</span> mask = <span class="number">0x80000000</span>;</span><br><span class="line">            <span class="keyword">while</span>(mask &amp;&amp; !(mask &amp; n)) mask &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> (n &amp; (n<span class="number">-1</span>)) != <span class="number">0</span> ? (mask &lt;&lt; <span class="number">1</span>) : mask; <span class="comment">// 得到大于等于n的2的幂</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">initSegTreeLeaf</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(n &lt;= <span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - (n &amp; <span class="number">1</span>); i+=<span class="number">2</span>) &#123;</span><br><span class="line">                <span class="type">int</span> leftIndex = alignedSize + i - <span class="number">1</span>;</span><br><span class="line">                <span class="type">int</span> rightIndex = alignedSize + i;</span><br><span class="line">                leftIndex = (leftIndex - <span class="number">1</span>) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">                segTree[leftIndex] = ((nums[i] &amp; <span class="number">1</span>) ^ (nums[i+<span class="number">1</span>] &amp; <span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">initSegTree</span><span class="params">(<span class="type">int</span> start, <span class="type">int</span> end, <span class="type">int</span> index)</span> </span>&#123;</span><br><span class="line">            <span class="type">int</span> mid = (end - start) / <span class="number">2</span> + start;</span><br><span class="line">            <span class="keyword">if</span>(start &gt;= end) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(index &gt;= alignedSize / <span class="number">2</span>) <span class="keyword">return</span> segTree[index];</span><br><span class="line">            <span class="keyword">if</span>(mid &gt;= <span class="number">0</span> &amp;&amp; mid + <span class="number">1</span> &lt; n) &#123;</span><br><span class="line">                segTree[index] = (nums[mid] &amp; <span class="number">1</span>) ^ (nums[mid+<span class="number">1</span>] &amp; <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            segTree[index] = segTree[index] &amp; <span class="built_in">initSegTree</span>(start, mid, <span class="number">2</span> * index + <span class="number">1</span>) &amp; <span class="built_in">initSegTree</span>(mid+<span class="number">1</span>, end, <span class="number">2</span> * index + <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">return</span> segTree[index];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">query</span><span class="params">(<span class="type">int</span> i , <span class="type">int</span> j, <span class="type">int</span> start, <span class="type">int</span> end, <span class="type">int</span> index)</span> </span>&#123;</span><br><span class="line">            <span class="type">int</span> mid = (end - start) / <span class="number">2</span> + start;</span><br><span class="line">            <span class="keyword">if</span>(start == end) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(i &lt;= start &amp;&amp; end &lt;= j) &#123;</span><br><span class="line">                <span class="keyword">return</span> segTree[index];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(mid &gt;= i &amp;&amp; mid + <span class="number">1</span> &lt;= j &amp;&amp; !((nums[mid] &amp; <span class="number">1</span>) ^ (nums[mid+<span class="number">1</span>] &amp; <span class="number">1</span>))) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">if</span>(mid &gt;= i &amp;&amp; !<span class="built_in">query</span>(i, j, start, mid, <span class="number">2</span> * index + <span class="number">1</span>)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(mid + <span class="number">1</span> &lt;= j &amp;&amp; !<span class="built_in">query</span>(i, j, mid+<span class="number">1</span>, end, <span class="number">2</span> * index + <span class="number">2</span>)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">SegTree</span>(vector&lt;<span class="type">int</span>&gt;&amp; nums): \</span><br><span class="line">            <span class="built_in">nums</span>(nums), <span class="built_in">n</span>(nums.<span class="built_in">size</span>()), \</span><br><span class="line">            <span class="built_in">alignedSize</span>(<span class="built_in">alignment</span>(n)) &#123;</span><br><span class="line">            segTree = <span class="built_in">vector</span>&lt;<span class="type">bool</span>&gt;(alignedSize, <span class="literal">true</span>); <span class="comment">// 不用乘2，因为叶子节点全是true</span></span><br><span class="line">            <span class="built_in">initSegTreeLeaf</span>();</span><br><span class="line">            <span class="built_in">initSegTree</span>(<span class="number">0</span>, alignedSize - <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">query</span><span class="params">(<span class="type">int</span> i , <span class="type">int</span> j)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">query</span>(i, j, <span class="number">0</span>, alignedSize - <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">isArraySpecial</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; queries)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">bool</span>&gt; ans;</span><br><span class="line">        <span class="function">SegTree <span class="title">segTree</span><span class="params">(nums)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; q : queries) &#123;</span><br><span class="line">            <span class="type">bool</span> result = segTree.<span class="built_in">query</span>(q[<span class="number">0</span>], q[<span class="number">1</span>]);</span><br><span class="line">            ans.<span class="built_in">push_back</span>(result);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>哎，速度不是很快<code>279ms 击败13.48%</code></p>
<h3 id="dp"><a href="#dp" class="headerlink" title="dp"></a>dp</h3><h2 id="3151-特殊数组-I"><a href="#3151-特殊数组-I" class="headerlink" title="3151. 特殊数组 I"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/special-array-i/description/?envType=daily-question&envId=2024-08-13">3151. 特殊数组 I</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isArraySpecial</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> odd = nums[<span class="number">0</span>] &amp; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>((nums[i] &amp; <span class="number">1</span>) == odd) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            odd = !odd;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="676-实现一个魔法字典"><a href="#676-实现一个魔法字典" class="headerlink" title="676. 实现一个魔法字典"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/implement-magic-dictionary/description/?envType=daily-question&envId=2024-08-12">676. 实现一个魔法字典</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MagicDictionary</span> &#123;</span><br><span class="line">    vector&lt;string&gt; dictionary;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">MagicDictionary</span>() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">buildDict</span><span class="params">(vector&lt;string&gt; dictionary)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;dictionary = dictionary;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">search</span><span class="params">(string searchWord)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; word : dictionary) &#123;</span><br><span class="line">            <span class="keyword">if</span>(word.<span class="built_in">size</span>() != searchWord.<span class="built_in">size</span>()) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> diff = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; word.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(word[i] != searchWord[i]) &#123;</span><br><span class="line">                    diff++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(diff == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="1035-不相交的线"><a href="#1035-不相交的线" class="headerlink" title="1035. 不相交的线"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/uncrossed-lines/description/?envType=daily-question&envId=2024-08-11">1035. 不相交的线</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="3132-找出与数组相加的整数-II"><a href="#3132-找出与数组相加的整数-II" class="headerlink" title="3132. 找出与数组相加的整数 II"></a>3132. 找出与数组相加的整数 II</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minimumAddedInteger</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums1, vector&lt;<span class="type">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(nums1.<span class="built_in">begin</span>(), nums1.<span class="built_in">end</span>());</span><br><span class="line">        <span class="built_in">sort</span>(nums2.<span class="built_in">begin</span>(), nums2.<span class="built_in">end</span>());</span><br><span class="line">        <span class="type">int</span> len2 = nums2.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> x = INT_MAX;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> start = <span class="number">0</span>; start &lt; <span class="number">3</span>; start++) &#123;</span><br><span class="line">            <span class="type">int</span> skip = <span class="number">2</span> - start;</span><br><span class="line">            <span class="type">int</span> diff = nums2[<span class="number">0</span>] - nums1[start];</span><br><span class="line">            <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>, j = <span class="number">1</span>; i &lt; len2; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(nums2[i] - nums1[start+j] != diff) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(skip &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                        skip--;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        flag = <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(flag) &#123;</span><br><span class="line">                x = <span class="built_in">min</span>(x, diff);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>先排序，计算差值，看是否所有差值都相同</li>
<li>由于数组1的长度比数组2长2，所以比时给数组1一个偏移</li>
<li>由于需要删除两个，且删除的位置不同，比较时如果遇到不相等的情况，则根据情况跳过一个</li>
</ul>
<h2 id="3131-找出与数组相加的整数-I"><a href="#3131-找出与数组相加的整数-I" class="headerlink" title="3131. 找出与数组相加的整数 I"></a>3131. 找出与数组相加的整数 I</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">addedInteger</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums1, vector&lt;<span class="type">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> *<span class="built_in">max_element</span>(nums2.<span class="built_in">begin</span>(), nums2.<span class="built_in">end</span>()) - *<span class="built_in">max_element</span>(nums1.<span class="built_in">begin</span>(), nums1.<span class="built_in">end</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="3129-找出所有稳定的二进制数组-I"><a href="#3129-找出所有稳定的二进制数组-I" class="headerlink" title="3129. 找出所有稳定的二进制数组 I"></a>3129. 找出所有稳定的二进制数组 I</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">long</span> <span class="type">long</span> MOD = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numberOfStableArrays</span><span class="params">(<span class="type">int</span> zero, <span class="type">int</span> one, <span class="type">int</span> limit)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 连续的0和1的个数不超过limit</span></span><br><span class="line">        vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt; dp0 = vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt;(zero + <span class="number">1</span>, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;(one + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(limit+<span class="number">1</span>, <span class="number">0</span>)));</span><br><span class="line">        vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt; dp1 = vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt;(zero + <span class="number">1</span>, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;(one + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(limit+<span class="number">1</span>, <span class="number">0</span>)));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> z = <span class="number">1</span>; z &lt;= <span class="built_in">min</span>(zero, limit); z++) &#123;</span><br><span class="line">            dp0[z][<span class="number">0</span>][z] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> o = <span class="number">1</span>; o &lt;= <span class="built_in">min</span>(one, limit); o++) &#123;</span><br><span class="line">            dp1[<span class="number">0</span>][o][o] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> z = <span class="number">1</span>; z &lt;= zero; z++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> o = <span class="number">1</span>; o &lt;= one; o++) &#123;</span><br><span class="line">                <span class="type">int</span> dp01 = <span class="number">0</span>;</span><br><span class="line">                <span class="type">int</span> dp11 = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> l = <span class="number">1</span>; l &lt;= limit; l++) &#123;</span><br><span class="line">                    dp01 = (dp01 + dp1[z<span class="number">-1</span>][o][l]) % MOD; <span class="comment">// 含有z-1个0，o个1，末尾连续1的个数为l，的数后面加一个0，变成z+1个0，o个1，末尾连续0的个数为1的数</span></span><br><span class="line">                    dp11 = (dp11 + dp0[z][o<span class="number">-1</span>][l]) % MOD; <span class="comment">// 含有z个0，o-1个1，末尾连续0的个数为l，的数后面加一个1，变成z个0，o+1个1，末尾连续1的个数为1的数</span></span><br><span class="line">                    dp0[z][o][l] += dp0[z<span class="number">-1</span>][o][l<span class="number">-1</span>]; <span class="comment">// 含有z-1个0，o个1，末尾连续0的个数为l-1，的数后面再加一个0，变成z+1个0，o个1，末尾连续0的个数为l的数</span></span><br><span class="line">                    dp1[z][o][l] += dp1[z][o<span class="number">-1</span>][l<span class="number">-1</span>]; <span class="comment">// 含有z-1个0，o个1，末尾连续0的个数为l-1，的数后面再加一个1，变成z个0，o+1个1，末尾连续1的个数为l的数</span></span><br><span class="line">                &#125;</span><br><span class="line">                dp0[z][o][<span class="number">1</span>] += dp01;</span><br><span class="line">                dp1[z][o][<span class="number">1</span>] += dp11;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> l = limit; l &gt;= <span class="number">1</span>; l--) &#123;</span><br><span class="line">            ans = (ans + (dp0[zero][one][l] + dp1[zero][one][l]) % MOD) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>答案还可以降维</li>
</ul>
<h2 id="600-不含连续1的非负整数"><a href="#600-不含连续1的非负整数" class="headerlink" title="600. 不含连续1的非负整数"></a>600. 不含连续1的非负整数</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">search</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(i &gt; n) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cnt++;</span><br><span class="line">        <span class="keyword">if</span>(!(i &amp; <span class="number">1</span>)) &#123;</span><br><span class="line">            <span class="built_in">search</span>((i &lt;&lt; <span class="number">1</span>) | <span class="number">1</span>, n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">search</span>((i &lt;&lt; <span class="number">1</span>) | <span class="number">0</span>, n);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">findIntegers</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">search</span>(<span class="number">1</span>, n);</span><br><span class="line">        <span class="keyword">return</span> cnt + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="572-另一棵树的子树"><a href="#572-另一棵树的子树" class="headerlink" title="572. 另一棵树的子树"></a>572. 另一棵树的子树</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">findNode</span><span class="params">(TreeNode* root, <span class="type">int</span> val, vector&lt;TreeNode*&gt;&amp; result)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;val == val) &#123;</span><br><span class="line">            result.<span class="built_in">push_back</span>(root);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">findNode</span>(root-&gt;left, val, result);</span><br><span class="line">        <span class="built_in">findNode</span>(root-&gt;right, val, result);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> _isSubTree(TreeNode *root, TreeNode* subRoot) &#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">nullptr</span> || subRoot == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> root == subRoot;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;val != subRoot-&gt;val) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> _isSubTree(root-&gt;left, subRoot-&gt;left) &amp;&amp; _isSubTree(root-&gt;right, subRoot-&gt;right);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isSubtree</span><span class="params">(TreeNode* root, TreeNode* subRoot)</span> </span>&#123;</span><br><span class="line">        vector&lt;TreeNode*&gt; nodes;</span><br><span class="line">        <span class="built_in">findNode</span>(root, subRoot-&gt;val, nodes);</span><br><span class="line">        <span class="keyword">for</span>(TreeNode* node : nodes) &#123;</span><br><span class="line">            <span class="keyword">if</span>(_isSubTree(node, subRoot)) </span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="3143-正方形中的最多点数"><a href="#3143-正方形中的最多点数" class="headerlink" title="3143. 正方形中的最多点数"></a>3143. 正方形中的最多点数</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxPointsInsideSquare</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; points, string s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">auto</span> getLineLen = [](<span class="type">const</span> vector&lt;<span class="type">int</span>&gt;&amp; point) &#123; <span class="comment">// 点所在正方形的边长/2，用来代表一个正方形</span></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">max</span>(<span class="built_in">abs</span>(point[<span class="number">0</span>]), <span class="built_in">abs</span>(point[<span class="number">1</span>]));</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="type">int</span> len = points.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">sortedIndex</span><span class="params">(len)</span></span>;</span><br><span class="line">        <span class="built_in">iota</span>(sortedIndex.<span class="built_in">begin</span>(), sortedIndex.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">        <span class="built_in">sort</span>(sortedIndex.<span class="built_in">begin</span>(), sortedIndex.<span class="built_in">end</span>(), [&amp;points, &amp;getLineLen](<span class="type">int</span> a, <span class="type">int</span> b)&#123; <span class="keyword">return</span> <span class="built_in">getLineLen</span>(points[a]) &lt; <span class="built_in">getLineLen</span>(points[b]); &#125;);</span><br><span class="line">        <span class="comment">// 按照点所在正方形的边长排序</span></span><br><span class="line">        unordered_set&lt;<span class="type">char</span>&gt; labelSet; <span class="comment">// 记录出现过的label，不允许出现相同的label</span></span><br><span class="line">        <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> maxcnt = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="type">bool</span> valid = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; len &amp;&amp; valid) &#123;</span><br><span class="line">            <span class="type">int</span> index = sortedIndex[i];</span><br><span class="line">            <span class="type">int</span> lineLen = <span class="built_in">getLineLen</span>(points[index]);</span><br><span class="line">            <span class="keyword">while</span>(i &lt; len &amp;&amp; lineLen == <span class="built_in">getLineLen</span>(points[index = sortedIndex[i]])) &#123;</span><br><span class="line">                <span class="comment">// 遍历所有相同边长的点</span></span><br><span class="line">                <span class="type">char</span> label = s[index];</span><br><span class="line">                <span class="keyword">if</span>(labelSet.<span class="built_in">count</span>(label)) &#123;</span><br><span class="line">                    valid = <span class="literal">false</span>; <span class="comment">// 这个正方形的边上遇到了出现过的label，这个正方形失效，更大的正方形也失效</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    cnt++;</span><br><span class="line">                &#125;</span><br><span class="line">                labelSet.<span class="built_in">insert</span>(label);</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(valid) &#123; <span class="comment">// 对于合法正方形，更新点数</span></span><br><span class="line">                maxcnt = cnt;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxcnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="3128-直角三角形"><a href="#3128-直角三角形" class="headerlink" title="3128. 直角三角形"></a>3128. 直角三角形</h2><h3 id="四次前缀和"><a href="#四次前缀和" class="headerlink" title="四次前缀和"></a>四次前缀和</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">numberOfRightTriangles</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> number = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> m = grid.<span class="built_in">size</span>(), n = grid[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; verticalSum;</span><br><span class="line">        verticalSum = <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="type">int</span> horSum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(!grid[i][j]) <span class="keyword">continue</span>;</span><br><span class="line">                verticalSum[j] += grid[i][j];</span><br><span class="line">                horSum += grid[i][j];</span><br><span class="line">                number += (horSum - <span class="number">1</span>) * (verticalSum[j] - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        verticalSum = <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = m - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="type">int</span> horSum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(!grid[i][j]) <span class="keyword">continue</span>;</span><br><span class="line">                verticalSum[j] += grid[i][j];</span><br><span class="line">                horSum += grid[i][j];</span><br><span class="line">                number += (horSum - <span class="number">1</span>) * (verticalSum[j] - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        verticalSum = <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = m - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="type">int</span> horSum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = n - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                <span class="keyword">if</span>(!grid[i][j]) <span class="keyword">continue</span>;</span><br><span class="line">                verticalSum[j] += grid[i][j];</span><br><span class="line">                horSum += grid[i][j];</span><br><span class="line">                number += (horSum - <span class="number">1</span>) * (verticalSum[j] - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        verticalSum = <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="type">int</span> horSum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = n - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                <span class="keyword">if</span>(!grid[i][j]) <span class="keyword">continue</span>;</span><br><span class="line">                verticalSum[j] += grid[i][j];</span><br><span class="line">                horSum += grid[i][j];</span><br><span class="line">                number += (horSum - <span class="number">1</span>) * (verticalSum[j] - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> number;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="LCP-40-心算挑战"><a href="#LCP-40-心算挑战" class="headerlink" title="LCP 40. 心算挑战"></a>LCP 40. 心算挑战</h2><h3 id="贪心"><a href="#贪心" class="headerlink" title="贪心"></a>贪心</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maximumScore</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; cards, <span class="type">int</span> cnt)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; odd, even;</span><br><span class="line">        <span class="built_in">sort</span>(cards.<span class="built_in">begin</span>(), cards.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> card : cards) &#123;</span><br><span class="line">            ((card &amp; <span class="number">1</span>) ? odd : even).<span class="built_in">push_back</span>(card);</span><br><span class="line">            <span class="comment">// 三目运算符的这种用法终于被我用上了</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> score = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> odd_index = odd.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> even_index = even.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(cnt) &#123;</span><br><span class="line">            <span class="type">bool</span> has2_odd = odd_index &gt;= <span class="number">1</span>;</span><br><span class="line">            <span class="type">bool</span> has2_even = even_index &gt;= <span class="number">1</span>;</span><br><span class="line">            <span class="type">bool</span> cnt_at_least_2 = cnt &gt;= <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(has2_odd &amp;&amp; has2_even &amp;&amp; cnt_at_least_2) &#123;</span><br><span class="line">                <span class="keyword">if</span>(even[even_index] &gt;= odd[odd_index] + odd[odd_index - <span class="number">1</span>]) &#123;</span><br><span class="line">                    <span class="keyword">goto</span> do_even;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span>(odd[odd_index] + odd[odd_index - <span class="number">1</span>] &gt;= even[even_index] + even[even_index - <span class="number">1</span>]) &#123;</span><br><span class="line">                    <span class="keyword">goto</span> do_odd;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">goto</span> do2_even;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>((cnt == <span class="number">1</span> || odd_index == <span class="number">0</span>) &amp;&amp; even_index &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="comment">// odd或cnt为1，even大于0, 取even</span></span><br><span class="line">                    <span class="keyword">goto</span> do_even;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span>(odd_index &lt; <span class="number">0</span> &amp;&amp; even_index &gt;= <span class="number">0</span> &amp;&amp; cnt &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="comment">// odd为0，even不为0，cnt大于1，取even</span></span><br><span class="line">                    <span class="keyword">goto</span> do_even;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span>(even_index == <span class="number">0</span> &amp;&amp; odd_index &gt;= <span class="number">1</span> &amp;&amp; cnt &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(cnt == <span class="number">2</span>) &#123;</span><br><span class="line">                        <span class="keyword">goto</span> do_odd;</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(even[even_index] &gt; odd[odd_index] + odd[odd_index - <span class="number">1</span>]) &#123;</span><br><span class="line">                        <span class="keyword">goto</span> do_even;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">goto</span> do_odd;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span>(even_index &lt; <span class="number">0</span> &amp;&amp; odd_index &gt;= <span class="number">1</span> &amp;&amp; cnt &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">                    <span class="keyword">goto</span> do_odd;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            do_odd:</span><br><span class="line">            score += odd[odd_index] + odd[odd_index - <span class="number">1</span>];</span><br><span class="line">            cnt -= <span class="number">2</span>;</span><br><span class="line">            odd_index -= <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">goto</span> next;</span><br><span class="line">            do2_even:</span><br><span class="line">            score += even[even_index] + even[even_index - <span class="number">1</span>];</span><br><span class="line">            cnt -= <span class="number">2</span>;</span><br><span class="line">            even_index -= <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">goto</span> next;</span><br><span class="line">            do_even:</span><br><span class="line">            score += even[even_index];</span><br><span class="line">            cnt -= <span class="number">1</span>;</span><br><span class="line">            even_index -= <span class="number">1</span>;</span><br><span class="line">            next:</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt == <span class="number">0</span> ? score : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>先排序，然后按照奇偶性分成两个数组</li>
<li>贪心，每次从奇数数组中取出两个奇数，或者从偶数数组中取数，直到取完数组，或者奇数数组剩一个，或者取够了cnt个数</li>
<li>如何选取：<ul>
<li>由于奇数数组每次取两个，占用两个cnt资源，而偶数数组可以取一个也可以取两个，导致前面的取法会影响后续cnt能否刚好取够。</li>
<li>是连续取两个偶数，还是取两个奇数，还是只取一个偶数？<ul>
<li><code>odd=[...,3,7]</code>, <code>even=[...,12]</code>,由于偶数数组中<code>12</code>大于奇数数组的<code>3+7</code>，所以取<code>12</code>,<code>(一个偶数完胜)</code></li>
<li><code>odd=[...,3,7]</code>, <code>even=[...,6,6]</code>,这次<code>6</code>小于<code>3+7</code>,可是连续取<code>两个6</code>的得分大于<code>3+7</code>，所以取<code>6+6</code>。<code>(两个奇数拉低了平均值)</code></li>
<li><code>odd=[...,3,7]</code>, <code>even=[...,2,6]</code>,这次<code>6</code>小于<code>3+7</code>，连续两次都选择偶数<code>2+6</code>也比选择<code>3+7</code>两个奇数小，所以选两个奇数</li>
</ul>
</li>
<li>以上选取策略需要<code>len(odd) &gt;= 2</code> <code>and</code> <code>len(even) &gt;= 2</code> <code>and</code> <code>ret &gt;= 2</code></li>
<li>下面讨论不满足以上情况，也就是<code>len(odd)</code>,<code>len(even)</code>,<code>ret</code>不会同时大于等于<code>2</code>的情况</li>
<li>由于可能的情况太多太复杂，列表讨论</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">odd     even    cnt     do</span></span><br><span class="line"><span class="comment">// odd或cnt为1，even大于0,只能取even</span></span><br><span class="line"><span class="comment">2+      2+      1       even</span></span><br><span class="line"><span class="comment">2       2+      1       even</span></span><br><span class="line"><span class="comment">1       2+      2+      even</span></span><br><span class="line"><span class="comment">1       2+      2       even</span></span><br><span class="line"><span class="comment">1       2+      1       even</span></span><br><span class="line"><span class="comment">0       2+      1       even</span></span><br><span class="line"><span class="comment">2+      2       1       even</span></span><br><span class="line"><span class="comment">2       2       1       even</span></span><br><span class="line"><span class="comment">1       2       2+      even</span></span><br><span class="line"><span class="comment">1       2       2       even</span></span><br><span class="line"><span class="comment">1       2       1       even</span></span><br><span class="line"><span class="comment">0       2       1       even</span></span><br><span class="line"><span class="comment">2+      1       1       even</span></span><br><span class="line"><span class="comment">2       1       1       even</span></span><br><span class="line"><span class="comment">1       1       2+      even</span></span><br><span class="line"><span class="comment">1       1       2       even</span></span><br><span class="line"><span class="comment">1       1       1       even</span></span><br><span class="line"><span class="comment">0       1       1       even</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">// odd为0，even不为0，cnt大于1，取even</span></span><br><span class="line"><span class="comment">0       2+      2+      even</span></span><br><span class="line"><span class="comment">0       2+      2       even</span></span><br><span class="line"><span class="comment">0       2       2+      even</span></span><br><span class="line"><span class="comment">0       2       2       even</span></span><br><span class="line"><span class="comment">0       1       2+      even</span></span><br><span class="line"><span class="comment">0       1       2       even</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">// even只剩一个, cnt剩两个，不能取even，odd大于等于2个，取odd</span></span><br><span class="line"><span class="comment">2+      1       2       odd</span></span><br><span class="line"><span class="comment">2       1       2       odd</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">// even只剩一个, cnt大于两个，可以取even，但需要和odd比较</span></span><br><span class="line"><span class="comment">2+      1       2+      even, odd1+odd2比较</span></span><br><span class="line"><span class="comment">2       1       2+      even, odd1+odd2比较</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">// even用完了, odd还有两个以上, 取odd</span></span><br><span class="line"><span class="comment">2+      0       2+      odd</span></span><br><span class="line"><span class="comment">2+      0       2       odd</span></span><br><span class="line"><span class="comment">2       0       2+      odd</span></span><br><span class="line"><span class="comment">2       0       2       odd</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">// even,odd都取完了，无法取够cnt，break</span></span><br><span class="line"><span class="comment">0       0       2+      break</span></span><br><span class="line"><span class="comment">0       0       2       break</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">// cnt或odd为1，没有even可取，无法满足条件，break</span></span><br><span class="line"><span class="comment">2+      0       1       break</span></span><br><span class="line"><span class="comment">2       0       1       break</span></span><br><span class="line"><span class="comment">1       0       2+      break</span></span><br><span class="line"><span class="comment">1       0       2       break</span></span><br><span class="line"><span class="comment">1       0       1       break</span></span><br><span class="line"><span class="comment">0       0       1       break</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>2+</code>代表个数大于<code>2</code></p>
</blockquote>
<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maximumScore</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; cards, <span class="type">int</span> cnt)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> odd = <span class="number">-1</span>, even = <span class="number">-1</span>;</span><br><span class="line">        <span class="type">int</span> tmp = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> n = cards.<span class="built_in">size</span>();</span><br><span class="line">        <span class="built_in">sort</span>(cards.<span class="built_in">begin</span>(), cards.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = n - <span class="number">1</span>; i &gt; n - cnt - <span class="number">1</span>; i--) &#123;</span><br><span class="line">            ((cards[i] &amp; <span class="number">1</span>) ? odd : even) = cards[i];</span><br><span class="line">            tmp += cards[i];</span><br><span class="line">            cout &lt;&lt; cards[i] &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!(tmp &amp; <span class="number">1</span>)) <span class="keyword">return</span> tmp;</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = n - cnt - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span>(cards[i] &amp; <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(even != <span class="number">-1</span>) &#123;</span><br><span class="line">                    flag = <span class="literal">true</span>;</span><br><span class="line">                    ans = <span class="built_in">max</span>(ans, tmp - even + cards[i]);</span><br><span class="line">                    </span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(odd != <span class="number">-1</span>) &#123;</span><br><span class="line">                    ans = <span class="built_in">max</span>(ans, tmp - odd + cards[i]);</span><br><span class="line">                    flag = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>排序后前cnt个数加起来，如果是偶数，则是所求最大的情况，直接返回</li>
<li>否则，前cnt个和加起来是奇数，用后面的数替换前面的数，使和变成偶数<ul>
<li>如果后面的数是奇数，则减去最后一个偶数，这样和为偶数</li>
<li>如果后面的数是偶数，则减去最后一个奇数，这样和为奇数</li>
</ul>
</li>
</ul>
<h3 id="哈希"><a href="#哈希" class="headerlink" title="哈希"></a>哈希</h3><p>和上一个想法思路一致，<code>1&lt;=cards[i]&lt;=1000</code>，可以把他映射到一个长度1000的数组中，记录下标早cards中出现的次数，可以避免排序。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maximumScore</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; cards, <span class="type">int</span> cnt)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> hash[<span class="number">1001</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="type">int</span> n = cards.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            hash[cards[i]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">1000</span>;</span><br><span class="line">        <span class="type">int</span> tmp = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> odd = <span class="number">-1</span>, even = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; cnt &amp;&amp; i &gt; <span class="number">0</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">while</span>(i &gt; <span class="number">0</span> &amp;&amp; hash[i] == <span class="number">0</span>) i--;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">0</span>) <span class="keyword">break</span>; <span class="comment">// will never happen</span></span><br><span class="line">            tmp += i;</span><br><span class="line">            hash[i]--;</span><br><span class="line">            ((i &amp; <span class="number">1</span>) ? odd : even) = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!(tmp &amp; <span class="number">1</span>)) <span class="keyword">return</span> tmp;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span>(i &gt; <span class="number">0</span> &amp;&amp; hash[i] == <span class="number">0</span>) i--;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span>((i &amp; <span class="number">1</span>) == <span class="number">1</span> &amp;&amp; even != <span class="number">-1</span>) &#123;</span><br><span class="line">                ans = <span class="built_in">max</span>(ans, tmp - even + i);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>((i &amp; <span class="number">1</span>) == <span class="number">0</span> &amp;&amp; odd != <span class="number">-1</span>) &#123;</span><br><span class="line">                ans = <span class="built_in">max</span>(ans, tmp - odd + i);</span><br><span class="line">            &#125;</span><br><span class="line">            hash[i]--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="3111-覆盖所有点的最少矩形数目"><a href="#3111-覆盖所有点的最少矩形数目" class="headerlink" title="3111. 覆盖所有点的最少矩形数目"></a>3111. 覆盖所有点的最少矩形数目</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minRectanglesToCoverPoints</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; points, <span class="type">int</span> w)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(points.<span class="built_in">begin</span>(), points.<span class="built_in">end</span>(), [](<span class="type">const</span> vector&lt;<span class="type">int</span>&gt;&amp; a, <span class="type">const</span> vector&lt;<span class="type">int</span>&gt;&amp; b)&#123; <span class="keyword">return</span> a[<span class="number">0</span>] &lt; b[<span class="number">0</span>]; &#125;);</span><br><span class="line">        <span class="type">int</span> len = points.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> i = <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> cnt = <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> lastx = points[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">while</span>(i &lt; len) &#123;</span><br><span class="line">            <span class="keyword">while</span>(i &lt; len &amp;&amp; points[i][<span class="number">0</span>] - lastx &lt;= w) i++;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= len) <span class="keyword">break</span>;</span><br><span class="line">            cnt++;</span><br><span class="line">            lastx = points[i][<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>啊?这是中等题吗</li>
</ul>
<h2 id="3007-价值和小于等于-K-的最大数字"><a href="#3007-价值和小于等于-K-的最大数字" class="headerlink" title="3007. 价值和小于等于 K 的最大数字"></a>3007. 价值和小于等于 K 的最大数字</h2><h3 id="公式法"><a href="#公式法" class="headerlink" title="公式法"></a>公式法</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">accumulatedValueOf</span><span class="params">(<span class="type">long</span> <span class="type">long</span> k, <span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> value = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> mask_off = <span class="number">63</span>; mask_off &gt;= <span class="number">1</span>; mask_off--) &#123;</span><br><span class="line">            <span class="type">long</span> <span class="type">long</span> mask = <span class="number">1l</span> &lt;&lt; (mask_off - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span>(!(mask &amp; k)) <span class="keyword">continue</span>;</span><br><span class="line">            k = k &amp; ~mask;</span><br><span class="line">            <span class="keyword">if</span>(mask_off % x == <span class="number">0</span>) &#123;</span><br><span class="line">                value += ((k|mask) - mask + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            value += mask / <span class="number">2</span> * ((mask_off - <span class="number">1</span>) / x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">findMaximumNumber</span><span class="params">(<span class="type">long</span> <span class="type">long</span> k, <span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> l = <span class="number">1</span>, r = <span class="number">1e15</span>;</span><br><span class="line">        <span class="keyword">while</span>(l &lt; r) &#123;</span><br><span class="line">            <span class="type">long</span> <span class="type">long</span> mid = (r - l + <span class="number">1</span>) / <span class="number">2</span> + l;</span><br><span class="line">            <span class="type">long</span> <span class="type">long</span> accuValue = <span class="built_in">accumulatedValueOf</span>(mid, x);</span><br><span class="line">            <span class="keyword">if</span>(accuValue &lt;= k) &#123;</span><br><span class="line">                l = mid;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul>
<li>记$ price_n(x) &#x3D; bit_count(n, x) $ </li>
<li>记$ accumulated_n(x) &#x3D; \sum_{i&#x3D;1}^nprice_i(x) $ </li>
<li><code>bit_count</code>, <code>price</code>是n的价值，也就是下标被x整除的位数和</li>
<li>对于<code>n&gt;0</code>, 函数<code>bit_count</code>, 是恒大于零的。</li>
<li>所以数列$ {accumulated_n(x)} $是单调递增的，如果能找到计算$ {accumulated_n(x)} $的公式，利用二分查找即可快速找到答案</li>
</ul>
<h4 id="公式推导"><a href="#公式推导" class="headerlink" title="公式推导"></a>公式推导</h4><ul>
<li>以<code>n = 7</code>, <code>x = 1</code>为例</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">0000</span><br><span class="line">0001</span><br><span class="line">0010</span><br><span class="line">0011</span><br><span class="line">0100</span><br><span class="line">0101</span><br><span class="line">0110</span><br><span class="line">0111</span><br></pre></td></tr></table></figure>

<p>可以观察到<code>0 + 7</code> &#x3D; <code>1 + 6</code> &#x3D; <code>2 + 5</code> &#x3D; <code>3 + 4</code> &#x3D; 二进制的<code>111</code><br>总价值为: <code>3*4=12</code></p>
<p>也就是对于$ n &#x3D; 0 … (2^i-1) $时，他们的总价值为$ i * 2^{i-1} $ </p>
<p>$ a_{2^i}(1) &#x3D; i * 2^{i-1}$</p>
<ul>
<li>以<code>n = 10</code>, <code>x = 1</code>为例</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">0000</span><br><span class="line">0001</span><br><span class="line">0010</span><br><span class="line">0011</span><br><span class="line">0100</span><br><span class="line">0101</span><br><span class="line">0110</span><br><span class="line">0111</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1010</span><br></pre></td></tr></table></figure>
<p>先计算<code>n = 0...7</code>的总价值，为<code>12</code><br>$ a_{2^i-1}(1) &#x3D; i * 2^{i-1}$, $i &#x3D; 3$的情况</p>
<p>组成部分为<code>n = 0...7</code>和<code>n = 8...10</code></p>
<p>对于<code>n = 8...10</code><br>先数出最高位的情况，也就是$n - (2^i - 1)$，再去掉最高位，变成以下情况</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">00</span><br><span class="line">01</span><br><span class="line">10</span><br></pre></td></tr></table></figure>
<p>也就是<code>n = 2</code>, <code>x = 1</code>的情况，重复上面的操作<br>也就是 $ b_n(i) &#x3D; n%2^{i+1} - (2^i - 1) $</p>
<ul>
<li><p>对于更复杂的情况如: <code>n = 1001101</code>, <code>x = 1</code><br>总价值为<br>$ a_{2^6-1}(1) + b_n(6) + $<br>$ a_{2^3-1}(1) + b_n(3) + $<br>$ a_{2^2-1}(1) + b_n(2) + $<br>$ a_{2^0-1}(1) + b_n{0}$</p>
</li>
<li><p>对于<code>x != 1</code>的情况，也就是<br>$ a_{2^i}(x) &#x3D;  \lfloor\frac{i}{x}\rfloor * 2^{i-1}$<br>$ b_n(i, x) &#x3D; n%2^{i+1} - (2^i - 1) $ $(i % x &#x3D; 0)$<br>$ b_n(i, x) &#x3D; 0 $ $(i % x \not &#x3D;{0})$</p>
</li>
</ul>
<h2 id="2961-双模幂运算"><a href="#2961-双模幂运算" class="headerlink" title="2961. 双模幂运算"></a>2961. 双模幂运算</h2><p>快速幂秒了！</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">fastPow</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> n, <span class="type">int</span> mod)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(n) &#123;</span><br><span class="line">            <span class="keyword">if</span>(n&amp;<span class="number">1</span>) &#123;</span><br><span class="line">                res = (res * a) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">            a = (a * a) % mod;</span><br><span class="line">            n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">getGoodIndices</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; variables, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; goodIndices;</span><br><span class="line">        <span class="type">int</span> len = variables.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="type">int</span> n = <span class="built_in">fastPow</span>(variables[i][<span class="number">0</span>], variables[i][<span class="number">1</span>], <span class="number">10</span>);</span><br><span class="line">            n = <span class="built_in">fastPow</span>(n, variables[i][<span class="number">2</span>], variables[i][<span class="number">3</span>]);</span><br><span class="line">            <span class="keyword">if</span>(n == target) &#123;</span><br><span class="line">                goodIndices.<span class="built_in">push_back</span>(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> goodIndices;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="682-棒球比赛"><a href="#682-棒球比赛" class="headerlink" title="682. 棒球比赛"></a>682. 棒球比赛</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">calPoints</span><span class="params">(vector&lt;string&gt;&amp; operations)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = operations.<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; scores;</span><br><span class="line">        <span class="type">int</span> scoreCnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">int</span> score = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (operations[i] == <span class="string">&quot;+&quot;</span>) &#123;</span><br><span class="line">                score = scores[scoreCnt - <span class="number">1</span>] + scores[scoreCnt - <span class="number">2</span>];</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (operations[i] == <span class="string">&quot;D&quot;</span>) &#123;</span><br><span class="line">                score = scores[scoreCnt - <span class="number">1</span>] * <span class="number">2</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (operations[i] == <span class="string">&quot;C&quot;</span>) &#123;</span><br><span class="line">                scores.<span class="built_in">pop_back</span>();</span><br><span class="line">                scoreCnt--;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">sscanf</span>(operations[i].<span class="built_in">c_str</span>(), <span class="string">&quot;%d&quot;</span>, &amp;score);</span><br><span class="line">            &#125;</span><br><span class="line">            scores.<span class="built_in">push_back</span>(score);</span><br><span class="line">            scoreCnt++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">accumulate</span>(scores.<span class="built_in">begin</span>(), scores.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="3106-满足距离约束且字典序最小的字符串"><a href="#3106-满足距离约束且字典序最小的字符串" class="headerlink" title="3106. 满足距离约束且字典序最小的字符串"></a>3106. 满足距离约束且字典序最小的字符串</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">charDistance</span><span class="params">(<span class="type">char</span> a, <span class="type">char</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> d = <span class="built_in">abs</span>(a - b);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">min</span>(d, <span class="number">26</span> - d);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">getSmallestString</span><span class="params">(string s, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">length</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n &amp;&amp; k &gt; <span class="number">0</span>; i++) &#123;</span><br><span class="line">            <span class="type">int</span> target = <span class="string">&#x27;z&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span>(k &gt; <span class="number">12</span>) &#123;</span><br><span class="line">                target = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt;= k; j++) &#123;</span><br><span class="line">                    target = <span class="built_in">min</span>(target, (s[i] + j - <span class="string">&#x27;a&#x27;</span>) % <span class="number">26</span> + <span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">                    target = <span class="built_in">min</span>(target, (s[i] - j - <span class="string">&#x27;a&#x27;</span> + <span class="number">26</span>) % <span class="number">26</span> + <span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            k -= <span class="built_in">charDistance</span>(s[i], target);</span><br><span class="line">            s[i] = target;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>实际上就是<code>26</code>进制数，在有限步骤内，将其转化为同位数下尽量小的数</li>
<li>尽量多的将当前最高位变小，高位使用1步的减少量是地位使用一步的26倍</li>
<li>简单计算可知，两个字母最大距离为12<ul>
<li>当<code>k &gt; 12</code>时，一定可以变成<code>a</code></li>
<li>当<code>k &lt;= 12</code>时，一定可以变成<code>a</code>，寻找k步内能实现的最小字符</li>
</ul>
</li>
</ul>
<h2 id="2740-找出分区值"><a href="#2740-找出分区值" class="headerlink" title="2740. 找出分区值"></a>2740. 找出分区值</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">findValueOfPartition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="type">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> minDiff = INT_MAX;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">            minDiff = <span class="built_in">min</span>(minDiff, <span class="built_in">abs</span>(nums[i] - nums[i<span class="number">-1</span>]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> minDiff;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="2844-生成特殊数字的最少操作"><a href="#2844-生成特殊数字的最少操作" class="headerlink" title="2844. 生成特殊数字的最少操作"></a>2844. 生成特殊数字的最少操作</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minimumOperations</span><span class="params">(string num)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len = num.<span class="built_in">length</span>();</span><br><span class="line">        <span class="type">int</span> first0 = len, first5 = len;</span><br><span class="line">        <span class="type">int</span> i = len - <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> minOp = len;</span><br><span class="line">        <span class="keyword">while</span>(i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(num[i] == <span class="string">&#x27;0&#x27;</span> &amp;&amp; first0 == len) &#123;</span><br><span class="line">                first0 = i;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(num[i] == <span class="string">&#x27;5&#x27;</span> &amp;&amp; first5 == len) &#123;</span><br><span class="line">                first5 = i;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num[i] == <span class="string">&#x27;0&#x27;</span> &amp;&amp; first0 != len &amp;&amp; i &lt; first0) &#123;</span><br><span class="line">                minOp = <span class="built_in">min</span>(minOp, len - first0 - <span class="number">1</span> + first0 - i - <span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(num[i] == <span class="string">&#x27;2&#x27;</span> &amp;&amp; first5 != len &amp;&amp; i &lt; first5) &#123;</span><br><span class="line">                minOp = <span class="built_in">min</span>(minOp, len - first5 - <span class="number">1</span> + first5 - i - <span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(num[i] == <span class="string">&#x27;5&#x27;</span> &amp;&amp; first0 != len &amp;&amp; i &lt; first0) &#123;</span><br><span class="line">                minOp = <span class="built_in">min</span>(minOp, len - first0 - <span class="number">1</span> + first0 - i - <span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(num[i] == <span class="string">&#x27;7&#x27;</span> &amp;&amp; first5 != len &amp;&amp; i &lt; first5) &#123;</span><br><span class="line">                minOp = <span class="built_in">min</span>(minOp, len - first5 - <span class="number">1</span> + first5 - i - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            i--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(first0 != len) minOp = <span class="built_in">min</span>(minOp, len - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> minOp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>对于所有25的倍数，举例可知，结尾两位为<code>00</code>,<code>25</code>,<code>50</code>,<code>75</code></li>
<li>一个字符串可能有多种方式到达变成25的倍数<ul>
<li>如果最后以<code>00</code>结尾，先倒着找到第一个<code>0</code>，删去后面的所有数，在找第二个<code>0</code>，删掉两个<code>0</code>中间的数</li>
<li><code>25</code>,<code>50</code>,<code>75</code>同理</li>
<li>返回删除数字最少的情况</li>
</ul>
</li>
<li>特殊情况<ul>
<li>没有找到<code>00</code>,<code>25</code>,<code>50</code>,<code>75</code>，可以把整个字符串删掉</li>
<li>没有找到<code>00</code>,<code>25</code>,<code>50</code>,<code>75</code>，只找到了一个<code>0</code>，可以把<code>0</code>以外的数全删掉</li>
</ul>
</li>
</ul>
<h2 id="2766-重新放置石块"><a href="#2766-重新放置石块" class="headerlink" title="2766. 重新放置石块"></a>2766. 重新放置石块</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">relocateMarbles</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, vector&lt;<span class="type">int</span>&gt;&amp; moveFrom, vector&lt;<span class="type">int</span>&gt;&amp; moveTo)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">bool</span>&gt; pos2rock;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> rockPos : nums) &#123;</span><br><span class="line">            pos2rock[rockPos] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> opNum = moveFrom.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; opNum; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(moveTo[i] == moveFrom[i]) <span class="keyword">continue</span>;</span><br><span class="line">            pos2rock[moveTo[i]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="comment">// pos2rock[moveFrom[i]] = 0;</span></span><br><span class="line">            pos2rock.<span class="built_in">erase</span>(moveFrom[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">const</span> <span class="keyword">auto</span>&amp; [pos, num] : pos2rock) &#123;</span><br><span class="line">            <span class="comment">// if(num) &#123; // 不需要判断，都是true</span></span><br><span class="line">                res.<span class="built_in">push_back</span>(pos);</span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(res.<span class="built_in">begin</span>(), res.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


<h2 id="2101-引爆最多的炸弹"><a href="#2101-引爆最多的炸弹" class="headerlink" title="2101. 引爆最多的炸弹"></a>2101. 引爆最多的炸弹</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Solve</span> &#123;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;&gt; graph;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; bombs;</span><br><span class="line">        <span class="type">int</span> bombsNum;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">isICanBoomJ</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> ((<span class="type">long</span> <span class="type">long</span>)bombs[i][<span class="number">0</span>] - bombs[j][<span class="number">0</span>]) * (bombs[i][<span class="number">0</span>] - bombs[j][<span class="number">0</span>]) + ((<span class="type">long</span> <span class="type">long</span>)bombs[i][<span class="number">1</span>] - bombs[j][<span class="number">1</span>]) * (bombs[i][<span class="number">1</span>] - bombs[j][<span class="number">1</span>]) &lt;= (<span class="type">long</span> <span class="type">long</span>)bombs[i][<span class="number">2</span>] * bombs[i][<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">cntNodes</span><span class="params">(<span class="type">int</span> start)</span> </span>&#123;</span><br><span class="line">            vector&lt;<span class="type">bool</span>&gt; visited = <span class="built_in">vector</span>&lt;<span class="type">bool</span>&gt;(bombsNum, <span class="literal">false</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">cntNodes</span>(start, visited);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">cntNodes</span><span class="params">(<span class="type">int</span> start, vector&lt;<span class="type">bool</span>&gt;&amp; visited)</span> </span>&#123;</span><br><span class="line">            visited[start] = <span class="literal">true</span>;</span><br><span class="line">            <span class="type">int</span> child = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> subNode : graph[start]) &#123;</span><br><span class="line">                <span class="keyword">if</span>(!visited[subNode]) &#123;</span><br><span class="line">                    visited[subNode] = <span class="literal">true</span>;</span><br><span class="line">                    child += <span class="built_in">cntNodes</span>(subNode, visited);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>+child;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">Solve</span>(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; bombs) </span><br><span class="line">            : <span class="built_in">bombs</span>(bombs), <span class="built_in">bombsNum</span>(bombs.<span class="built_in">size</span>()) &#123;&#125;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; bombsNum; i++) &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; bombsNum; j++) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(i == j) <span class="keyword">continue</span>;</span><br><span class="line">                    <span class="keyword">if</span>(<span class="built_in">isICanBoomJ</span>(i, j)) &#123;</span><br><span class="line">                        graph[i].<span class="built_in">push_back</span>(j);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> maxBoom = INT_MIN;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; bombsNum; i++) &#123;</span><br><span class="line">                maxBoom = <span class="built_in">max</span>(maxBoom, <span class="built_in">cntNodes</span>(i));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> maxBoom;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maximumDetonation</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; bombs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Solve</span>(bombs).<span class="built_in">solve</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maximumDetonation</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; bombs)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> bombsNum = bombs.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">auto</span> isICanBoomJ = [&amp;](<span class="type">int</span> i, <span class="type">int</span> j) &#123;</span><br><span class="line">            <span class="built_in">return</span> ((<span class="type">long</span> <span class="type">long</span>)bombs[i][<span class="number">0</span>] - bombs[j][<span class="number">0</span>]) * (bombs[i][<span class="number">0</span>] - bombs[j][<span class="number">0</span>]) + ((<span class="type">long</span> <span class="type">long</span>)bombs[i][<span class="number">1</span>] - bombs[j][<span class="number">1</span>]) * (bombs[i][<span class="number">1</span>] - bombs[j][<span class="number">1</span>]) &lt;= (<span class="type">long</span> <span class="type">long</span>)bombs[i][<span class="number">2</span>] * bombs[i][<span class="number">2</span>];</span><br><span class="line">        &#125;;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;&gt; graph;</span><br><span class="line">        function&lt;<span class="type">int</span>(<span class="type">int</span>, vector&lt;<span class="type">bool</span>&gt;&amp;)&gt; _cntNodes = [&amp;](<span class="type">int</span> start, vector&lt;<span class="type">bool</span>&gt;&amp; visited) &#123;</span><br><span class="line">            visited[start] = <span class="literal">true</span>;</span><br><span class="line">            <span class="type">int</span> child = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> subNode : graph[start]) &#123;</span><br><span class="line">                <span class="keyword">if</span>(!visited[subNode]) &#123;</span><br><span class="line">                    visited[subNode] = <span class="literal">true</span>;</span><br><span class="line">                    child += _cntNodes(subNode, visited);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>+child;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">auto</span> cntNodes = [&amp;](<span class="type">int</span> start) &#123;</span><br><span class="line">            vector&lt;<span class="type">bool</span>&gt; visited = <span class="built_in">vector</span>&lt;<span class="type">bool</span>&gt;(bombsNum, <span class="literal">false</span>);</span><br><span class="line">            <span class="keyword">return</span> _cntNodes(start, visited);</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; bombsNum; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; bombsNum; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == j) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">isICanBoomJ</span>(i, j)) &#123;</span><br><span class="line">                    graph[i].<span class="built_in">push_back</span>(j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> maxBoom = INT_MIN;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; bombsNum; i++) &#123;</span><br><span class="line">            maxBoom = <span class="built_in">max</span>(maxBoom, <span class="built_in">cntNodes</span>(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxBoom;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>注意计算距离时int可能会溢出</li>
</ul>
<h2 id="1186-删除一次得到子数组最大和"><a href="#1186-删除一次得到子数组最大和" class="headerlink" title="1186. 删除一次得到子数组最大和"></a>1186. 删除一次得到子数组最大和</h2><h2 id="3133-数组最后一个元素的最小值"><a href="#3133-数组最后一个元素的最小值" class="headerlink" title="3133. 数组最后一个元素的最小值"></a>3133. 数组最后一个元素的最小值</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">minEnd</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> mask_n = <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> mask_x = <span class="number">1</span>;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> mask_res = <span class="number">1l</span>;</span><br><span class="line">        n--;</span><br><span class="line">        <span class="keyword">while</span>(mask_n &lt; <span class="number">0x8000&#x27;0000</span> &amp;&amp; mask_x &lt; <span class="number">0x8000&#x27;0000</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(x &amp; mask_x) &#123;</span><br><span class="line">                res |= mask_res;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(n &amp; mask_n) res |= mask_res;</span><br><span class="line">                mask_n &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mask_res &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">            mask_x &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(mask_n &lt; <span class="number">0x8000&#x27;0000</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(n &amp; mask_n) res |= mask_res;</span><br><span class="line">            mask_res &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">            mask_n &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(mask_x &lt; <span class="number">0x8000&#x27;0000</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(x &amp; mask_x) &#123;</span><br><span class="line">                res |= mask_res;</span><br><span class="line">            &#125;</span><br><span class="line">            mask_res &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">            mask_x &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h3><p>首先所有的数相与后的结果需要为x,先随便来一个二进制数，看看满足这样的数有什么规律</p>
<p>以<code>x = 001101101001</code>为例</p>
<p>对于数组中的二进制数，如果x的第i位为0，则对应数组中的数的第i位可以是0也可以是1；如果果x的第i位为1，则对应数组中的数的第i位必须是1</p>
<p>也就是数组中的数满足 $ a_i &#x3D; ??11?11?1??1 $</p>
<p>现在希望数组中有n个数</p>
<p>以<code>n = 9 = 000000001001</code>为例，先不管相与为x的限制，数组中的数可以是</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">0001</span><br><span class="line">0010</span><br><span class="line">0011</span><br><span class="line">0100</span><br><span class="line">0101</span><br><span class="line">0110</span><br><span class="line">0111</span><br><span class="line">1000</span><br><span class="line">1001</span><br></pre></td></tr></table></figure>

<p>前面提到数组中的数必须满足$ a_i &#x3D; ??11?11?1??1 $, 可以把这些数安排到?处，这样可以保证相与为x，也可以保证数目<br>那么数组中最大数<code>9</code>，把他填入?处可得:<code>001111101011</code><br>那么数组中最小数<code>1</code>，把他填入?处可得:<code>001101101011</code></p>
<p>考虑到x&amp;x &#x3D; x, 所以数组中最小数可以是0，所以对于<code>x = 001101101001</code>, <code>n = 9 = 000000001001</code>, 数组中最小数为<code>x</code>，最大数为将8填入?处，得<code>001111101001</code></p>
<h2 id="2850-将石头分散到网格图的最少移动次数"><a href="#2850-将石头分散到网格图的最少移动次数" class="headerlink" title="2850. 将石头分散到网格图的最少移动次数"></a>2850. 将石头分散到网格图的最少移动次数</h2><h3 id="暴力分子"><a href="#暴力分子" class="headerlink" title="暴力分子"></a>暴力分子</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span> minMove = INT_MAX;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">move</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; grid, <span class="type">int</span> moveCnt)</span> </span>&#123;</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="type">int</span> minDist = INT_MAX;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i/<span class="number">3</span>][i%<span class="number">3</span>] &lt;= <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">9</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == j) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(grid[j/<span class="number">3</span>][j%<span class="number">3</span>] == <span class="number">0</span>) &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    minDist = <span class="built_in">min</span>(minDist, <span class="built_in">abs</span>(i/<span class="number">3</span> - j/<span class="number">3</span>) + <span class="built_in">abs</span>(i%<span class="number">3</span> - j%<span class="number">3</span>));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag) &#123;</span><br><span class="line">            minMove = <span class="built_in">min</span>(minMove, moveCnt);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i/<span class="number">3</span>][i%<span class="number">3</span>] &lt;= <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">9</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == j) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(grid[j/<span class="number">3</span>][j%<span class="number">3</span>] == <span class="number">0</span> &amp;&amp; <span class="built_in">abs</span>(i/<span class="number">3</span> - j/<span class="number">3</span>) + <span class="built_in">abs</span>(i%<span class="number">3</span> - j%<span class="number">3</span>) == minDist) &#123;</span><br><span class="line">                    grid[j/<span class="number">3</span>][j%<span class="number">3</span>]++;</span><br><span class="line">                    grid[i/<span class="number">3</span>][i%<span class="number">3</span>]--;</span><br><span class="line">                    <span class="built_in">move</span>(grid, moveCnt + <span class="built_in">abs</span>(i/<span class="number">3</span> - j/<span class="number">3</span>) + <span class="built_in">abs</span>(i%<span class="number">3</span> - j%<span class="number">3</span>));</span><br><span class="line">                    grid[j/<span class="number">3</span>][j%<span class="number">3</span>]--;</span><br><span class="line">                    grid[i/<span class="number">3</span>][i%<span class="number">3</span>]++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minimumMoves</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">move</span>(grid, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> minMove;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>硬搜</p>
<h3 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">unordered_map&lt;<span class="type">long</span> <span class="type">long</span>, <span class="type">int</span>&gt; m; <span class="comment">// int64表示的grid to 到达 初始状态的最小步数</span></span><br><span class="line"><span class="type">const</span> <span class="type">long</span> <span class="type">long</span> initState = <span class="number">0x00&#x27;00&#x27;00&#x27;01&#x27;11&#x27;11&#x27;11&#x27;11</span>;</span><br><span class="line"><span class="type">static</span> <span class="type">const</span> <span class="type">int</span> initMap = []()&#123;</span><br><span class="line">    queue&lt;<span class="type">long</span> <span class="type">long</span>&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(initState);</span><br><span class="line">    m[initState] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> state = q.<span class="built_in">front</span>();</span><br><span class="line">        <span class="type">int</span> step = m[state];</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">            <span class="type">int</span> numI = (state &gt;&gt; (i &lt;&lt; <span class="number">2</span>)) &amp; <span class="number">0x0f</span>;</span><br><span class="line">            <span class="keyword">if</span>(numI != <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">9</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == j) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="type">long</span> <span class="type">long</span> numJ = (state &gt;&gt; (j &lt;&lt; <span class="number">2</span>)) &amp; <span class="number">0x0f</span>;</span><br><span class="line">                <span class="keyword">if</span>(numJ == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="type">int</span> newStep = step + <span class="built_in">abs</span>(i / <span class="number">3</span> - j / <span class="number">3</span>) + <span class="built_in">abs</span>(i % <span class="number">3</span> - j % <span class="number">3</span>);</span><br><span class="line">                numJ++;</span><br><span class="line">                <span class="type">long</span> <span class="type">long</span> newState = state;</span><br><span class="line">                newState = newState &amp; ~(<span class="number">0x0f</span>l &lt;&lt; (i &lt;&lt; <span class="number">2</span>));</span><br><span class="line">                newState = newState &amp; ~(<span class="number">0x0f</span>l &lt;&lt; (j &lt;&lt; <span class="number">2</span>));</span><br><span class="line">                newState = newState | (numJ &lt;&lt; (j &lt;&lt; <span class="number">2</span>));</span><br><span class="line">                <span class="keyword">if</span>(!m.<span class="built_in">count</span>(newState) || m[newState] &gt; newStep) &#123;</span><br><span class="line">                    q.<span class="built_in">push</span>(newState);</span><br><span class="line">                    m[newState] = newStep;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;();</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">grid2Int64</span><span class="params">(<span class="type">const</span> vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> int64Grid = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123;</span><br><span class="line">                int64Grid &lt;&lt;= <span class="number">4</span>;</span><br><span class="line">                int64Grid += grid[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> int64Grid;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minimumMoves</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m[<span class="built_in">grid2Int64</span>(grid)];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>用longlong表示grid，从全1的grid开始，找出所有grid情况，计算出他变成全1的step，缓存起来，用的时候查</p>
<h3 id="全排列"><a href="#全排列" class="headerlink" title="全排列"></a>全排列</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minimumMoves</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; more, less;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">            <span class="type">int</span> num = grid[i / <span class="number">3</span>][i % <span class="number">3</span>];</span><br><span class="line">            <span class="keyword">if</span>(num &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt; num; j++) &#123;</span><br><span class="line">                    more.<span class="built_in">push_back</span>(i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(num == <span class="number">0</span>) &#123;</span><br><span class="line">                less.<span class="built_in">push_back</span>(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> len = more.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> minStep = INT_MAX;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="type">int</span> step = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                step += <span class="built_in">abs</span>(more[i] / <span class="number">3</span> - less[i] / <span class="number">3</span>) + <span class="built_in">abs</span>(more[i] % <span class="number">3</span> - less[i] % <span class="number">3</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            minStep = <span class="built_in">min</span>(minStep, step);</span><br><span class="line">        &#125; <span class="keyword">while</span>(<span class="built_in">next_permutation</span>(more.<span class="built_in">begin</span>(), more.<span class="built_in">end</span>()));</span><br><span class="line">        <span class="keyword">return</span> minStep;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>抄的题解</li>
<li>每个大于1的格子最后都会变成1，填补到0上，大于1的格子的值-1之和等于0的格子数量是相等的</li>
<li>构造两个数组，一个存全0的格子下标，一个将大于1的格子存n-1次，两个数组长度一致</li>
<li>(more[i],less[i])表示将i格子上的一块石头搬到less上，只要对more进行全排列，就可以找出所有移动的方法，然后算出所需的总步数，然后算出最小步数</li>
</ul>
<h2 id="3096-得到更多分数的最少关卡数目"><a href="#3096-得到更多分数的最少关卡数目" class="headerlink" title="3096. 得到更多分数的最少关卡数目"></a>3096. 得到更多分数的最少关卡数目</h2><p>又是博弈问题，不会</p>
<h2 id="3112-访问消失节点的最少时间"><a href="#3112-访问消失节点的最少时间" class="headerlink" title="3112. 访问消失节点的最少时间"></a>3112. 访问消失节点的最少时间</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">minimumTime</span><span class="params">(<span class="type">int</span> n, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; edges, vector&lt;<span class="type">int</span>&gt;&amp; disappear)</span> </span>&#123;</span><br><span class="line">        vector&lt;vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt;&gt; <span class="built_in">graph</span>(n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">const</span> <span class="keyword">auto</span>&amp; edge : edges) &#123;</span><br><span class="line">            graph[edge[<span class="number">0</span>]].<span class="built_in">emplace_back</span>(edge[<span class="number">1</span>], edge[<span class="number">2</span>]);</span><br><span class="line">            graph[edge[<span class="number">1</span>]].<span class="built_in">emplace_back</span>(edge[<span class="number">0</span>], edge[<span class="number">2</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">ans</span><span class="params">(n, INT_MAX / <span class="number">2</span>)</span></span>;</span><br><span class="line">        <span class="keyword">auto</span> cmp = [](<span class="type">const</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&amp; i , <span class="type">const</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&amp; j)&#123;</span><br><span class="line">            <span class="keyword">return</span> i.second &gt; j.second;</span><br><span class="line">        &#125;;</span><br><span class="line">        priority_queue&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;, vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt;, <span class="keyword">decltype</span>(cmp)&gt; <span class="built_in">q</span>(cmp);</span><br><span class="line">        q.<span class="built_in">emplace</span>(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        ans[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="keyword">auto</span> [min_index, len] = q.<span class="built_in">top</span>();</span><br><span class="line">            q.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="keyword">if</span>(len &gt; ans[min_index]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> [child, len] : graph[min_index]) &#123;</span><br><span class="line">                <span class="type">int</span> newLen = ans[min_index] + len &gt;= disappear[child] ? INT_MAX / <span class="number">2</span> : ans[min_index] + len;</span><br><span class="line">                <span class="keyword">if</span>(newLen &lt; ans[child] &amp;&amp; newLen &lt; INT_MAX / <span class="number">2</span>) &#123;</span><br><span class="line">                    ans[child] = newLen;</span><br><span class="line">                    q.<span class="built_in">emplace</span>(child, ans[child]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(ans[i] &gt;= INT_MAX / <span class="number">2</span>) ans[i] = <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>就是带限制的dijkstra，但是很坑<ul>
<li>两个顶点之间可能存在多个长度不同的边，显然要选最小的，但不能用n*n的vector存图，会超内存</li>
<li>必须用优先队列选点，否则时间超</li>
</ul>
</li>
</ul>
<h2 id="3145-大数组元素的乘积"><a href="#3145-大数组元素的乘积" class="headerlink" title="3145. 大数组元素的乘积"></a>3145. 大数组元素的乘积</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> uint64;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="function">uint64 <span class="title">fastPower</span><span class="params">(uint64 a, uint64 n, uint64 mod)</span> </span>&#123;</span><br><span class="line">        uint64 res = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(n) &#123;</span><br><span class="line">            <span class="keyword">if</span>(n &amp; <span class="number">1</span>) &#123;</span><br><span class="line">                res = (res * a) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">            a = (a * a) % mod;</span><br><span class="line">            n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res % mod;</span><br><span class="line">    &#125; <span class="comment">// 快速幂</span></span><br><span class="line">    <span class="function">uint64 <span class="title">powerOfproduct</span><span class="params">(uint64 k)</span> </span>&#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> value = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> mask_off = <span class="number">64</span>; mask_off &gt;= <span class="number">1</span>; mask_off--) &#123;</span><br><span class="line">            uint64 mask = <span class="number">1l</span> &lt;&lt; (mask_off - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span>(!(mask &amp; k)) <span class="keyword">continue</span>;</span><br><span class="line">            k = k &amp; ~mask;</span><br><span class="line">            value += ((k|mask) - mask + <span class="number">1</span>) * (mask_off - <span class="number">1</span>);</span><br><span class="line">            value += mask / <span class="number">2</span> * ((mask_off - <span class="number">1</span>)*(mask_off - <span class="number">2</span>)/<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125; <span class="comment">// 小于等于k的所有数的指数和</span></span><br><span class="line"></span><br><span class="line">    <span class="function">uint64 <span class="title">totalOneOf</span><span class="params">(uint64 k)</span> </span>&#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> value = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> mask_off = <span class="number">64</span>; mask_off &gt;= <span class="number">1</span>; mask_off--) &#123;</span><br><span class="line">            uint64 mask = <span class="number">1l</span> &lt;&lt; (mask_off - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span>(!(mask &amp; k)) <span class="keyword">continue</span>;</span><br><span class="line">            k = k &amp; ~mask;</span><br><span class="line">            value += ((k|mask) - mask + <span class="number">1</span>);</span><br><span class="line">            value += mask / <span class="number">2</span> * (mask_off - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125; <span class="comment">// 小于等于k的所有数的1的个数</span></span><br><span class="line"></span><br><span class="line">    <span class="function">uint64 <span class="title">findLeftRange</span><span class="params">(uint64 pos)</span> </span>&#123;</span><br><span class="line">        uint64 l = <span class="number">0</span>, r = pos;</span><br><span class="line">        <span class="keyword">while</span>(l &lt; r) &#123;</span><br><span class="line">            uint64 mid = (r - l + <span class="number">1</span>) / <span class="number">2</span> + l;</span><br><span class="line">            uint64 totalOnOfPos = <span class="built_in">totalOneOf</span>(mid);</span><br><span class="line">            <span class="keyword">if</span>(totalOnOfPos &lt; pos) &#123;</span><br><span class="line">                l = mid;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> l; </span><br><span class="line">    &#125; <span class="comment">// 二分查找下标在数组中对应的数的前一个数</span></span><br><span class="line"></span><br><span class="line">    <span class="function">uint64 <span class="title">powerSumTo</span><span class="params">(uint64 k, uint64 pos)</span> </span>&#123;</span><br><span class="line">        uint64 powerSum = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> off = <span class="number">0</span>; off &lt; <span class="number">64</span>; off++) &#123;</span><br><span class="line">            uint64 mask = <span class="number">1l</span> &lt;&lt; off;</span><br><span class="line">            <span class="keyword">if</span>(k &amp; mask) &#123;</span><br><span class="line">                cnt++;</span><br><span class="line">                <span class="keyword">if</span>(cnt &lt;= pos) &#123;</span><br><span class="line">                    powerSum += off;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> powerSum;</span><br><span class="line">    &#125; <span class="comment">// 计算k的前pos个1对应的指数和</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">findProductsOfElements</span><span class="params">(vector&lt;vector&lt;<span class="type">long</span> <span class="type">long</span>&gt;&gt;&amp; queries)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; anwser;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">const</span> <span class="keyword">auto</span>&amp; query: queries) &#123;</span><br><span class="line">            uint64 leftRange0 = <span class="built_in">findLeftRange</span>(query[<span class="number">0</span>]+<span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line">            uint64 leftRange1 = <span class="built_in">findLeftRange</span>(query[<span class="number">1</span>]+<span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line">            uint64 totalOneOf0 = <span class="built_in">totalOneOf</span>(leftRange0 - <span class="number">1</span>);</span><br><span class="line">            uint64 totalOneOf1 = <span class="built_in">totalOneOf</span>(leftRange1 - <span class="number">1</span>);</span><br><span class="line">            uint64 powerSum0 = <span class="built_in">powerSumTo</span>(leftRange0, query[<span class="number">0</span>] - totalOneOf0);</span><br><span class="line">            uint64 powerSum1 = <span class="built_in">powerSumTo</span>(leftRange1, query[<span class="number">1</span>]+<span class="number">1</span> - totalOneOf1);</span><br><span class="line">            uint64 power = (<span class="built_in">powerOfproduct</span>(leftRange1 - <span class="number">1</span>) - <span class="built_in">powerOfproduct</span>(leftRange0 - <span class="number">1</span>) + powerSum1 - powerSum0);</span><br><span class="line">            anwser.<span class="built_in">push_back</span>(<span class="built_in">fastPower</span>(<span class="number">2</span>, power, query[<span class="number">2</span>]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> anwser;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>使用和<a href="#3007-%E4%BB%B7%E5%80%BC%E5%92%8C%E5%B0%8F%E4%BA%8E%E7%AD%89%E4%BA%8E-k-%E7%9A%84%E6%9C%80%E5%A4%A7%E6%95%B0%E5%AD%97">3007. 价值和小于等于 K 的最大数字</a>相同的思路，找到<code>O(1)</code>的计算小于等于N的1的个数</li>
<li>通过二分查找就可以找到big_nums下标对应的数，由于所求数是2的幂的积，所以再计算这个数之前的所有数的乘积的指数，两个指数相减，再模n快速幂即可求得最终答案</li>
</ul>
<h2 id="2956-找到两个数组中的公共元素"><a href="#2956-找到两个数组中的公共元素" class="headerlink" title="2956. 找到两个数组中的公共元素"></a>2956. 找到两个数组中的公共元素</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">findIntersectionValues</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums1, vector&lt;<span class="type">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> ans1 = <span class="number">0</span>, ans2 = <span class="number">0</span>;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; m1, m2;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> num1 : nums1) &#123;</span><br><span class="line">            m1[num1]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> num2 : nums2) &#123;</span><br><span class="line">            <span class="keyword">if</span>(m1.<span class="built_in">count</span>(num2)) &#123;</span><br><span class="line">                ans2++;</span><br><span class="line">            &#125;</span><br><span class="line">            m2[num2]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> num1 : nums1) &#123;</span><br><span class="line">            <span class="keyword">if</span>(m2.<span class="built_in">count</span>(num1)) &#123;</span><br><span class="line">                ans1++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;ans1, ans2&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div><div class="article-licensing box"><div class="licensing-title"><p>LeetCode-36</p><p><a href="https://jingtianer.github.io/home/2024/08/18/LeetCode/LeetCode-刷题总结36/">https://jingtianer.github.io/home/2024/08/18/LeetCode/LeetCode-刷题总结36/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>Meow Meow Liu</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2024-08-18</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2025-04-15</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/home/tags/LeetCode/">LeetCode</a><a class="link-muted mr-2" rel="tag" href="/home/tags/%E7%AE%97%E6%B3%95/">算法</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/home/2024/08/23/%E7%AE%97%E6%B3%95/OI-KIWI-01-%E5%80%8D%E5%A2%9E/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">OI KIWI 01-倍增</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/home/2024/08/07/Android%E9%AB%98%E7%BA%A7/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/%E5%9F%BA%E7%A1%8005-Navigation/"><span class="level-item">基础05-Navigation</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: "464de28e76f81ad9ba533889a0bbe86b",
            repo: "blog_comment",
            owner: "jingtianer",
            clientID: "f0b13fe8021fcd2efe50",
            clientSecret: "35207c14b34e77c48a3aeee1e94c9da169ffe0c2",
            admin: ["jingtianer"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 20,
            pagerDirection: "last",
            
            
            enableHotKey: true,
            language: "zh-CN",
        })
        gitalk.render('comment-container')</script></div></div></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-4-widescreen  order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#551-学生出勤记录-I"><span class="level-left"><span class="level-item">1</span><span class="level-item">551. 学生出勤记录 I</span></span></a></li><li><a class="level is-mobile" href="#3137-K-周期字符串需要的最少操作次数"><span class="level-left"><span class="level-item">2</span><span class="level-item">3137. K 周期字符串需要的最少操作次数</span></span></a></li><li><a class="level is-mobile" href="#3117-划分数组得到最小的值之和"><span class="level-left"><span class="level-item">3</span><span class="level-item">3117. 划分数组得到最小的值之和</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#超时暴搜"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">超时暴搜</span></span></a></li></ul></li><li><a class="level is-mobile" href="#3148-矩阵中的最大得分"><span class="level-left"><span class="level-item">4</span><span class="level-item">3148. 矩阵中的最大得分</span></span></a></li><li><a class="level is-mobile" href="#3152-特殊数组-II"><span class="level-left"><span class="level-item">5</span><span class="level-item">3152. 特殊数组 II</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#二分"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">二分</span></span></a></li><li><a class="level is-mobile" href="#模仿线段树"><span class="level-left"><span class="level-item">5.2</span><span class="level-item">模仿线段树</span></span></a></li><li><a class="level is-mobile" href="#dp"><span class="level-left"><span class="level-item">5.3</span><span class="level-item">dp</span></span></a></li></ul></li><li><a class="level is-mobile" href="#3151-特殊数组-I"><span class="level-left"><span class="level-item">6</span><span class="level-item">3151. 特殊数组 I</span></span></a></li><li><a class="level is-mobile" href="#676-实现一个魔法字典"><span class="level-left"><span class="level-item">7</span><span class="level-item">676. 实现一个魔法字典</span></span></a></li><li><a class="level is-mobile" href="#1035-不相交的线"><span class="level-left"><span class="level-item">8</span><span class="level-item">1035. 不相交的线</span></span></a></li><li><a class="level is-mobile" href="#3132-找出与数组相加的整数-II"><span class="level-left"><span class="level-item">9</span><span class="level-item">3132. 找出与数组相加的整数 II</span></span></a></li><li><a class="level is-mobile" href="#3131-找出与数组相加的整数-I"><span class="level-left"><span class="level-item">10</span><span class="level-item">3131. 找出与数组相加的整数 I</span></span></a></li><li><a class="level is-mobile" href="#3129-找出所有稳定的二进制数组-I"><span class="level-left"><span class="level-item">11</span><span class="level-item">3129. 找出所有稳定的二进制数组 I</span></span></a></li><li><a class="level is-mobile" href="#600-不含连续1的非负整数"><span class="level-left"><span class="level-item">12</span><span class="level-item">600. 不含连续1的非负整数</span></span></a></li><li><a class="level is-mobile" href="#572-另一棵树的子树"><span class="level-left"><span class="level-item">13</span><span class="level-item">572. 另一棵树的子树</span></span></a></li><li><a class="level is-mobile" href="#3143-正方形中的最多点数"><span class="level-left"><span class="level-item">14</span><span class="level-item">3143. 正方形中的最多点数</span></span></a></li><li><a class="level is-mobile" href="#3128-直角三角形"><span class="level-left"><span class="level-item">15</span><span class="level-item">3128. 直角三角形</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#四次前缀和"><span class="level-left"><span class="level-item">15.1</span><span class="level-item">四次前缀和</span></span></a></li></ul></li><li><a class="level is-mobile" href="#LCP-40-心算挑战"><span class="level-left"><span class="level-item">16</span><span class="level-item">LCP 40. 心算挑战</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#贪心"><span class="level-left"><span class="level-item">16.1</span><span class="level-item">贪心</span></span></a></li><li><a class="level is-mobile" href="#排序"><span class="level-left"><span class="level-item">16.2</span><span class="level-item">排序</span></span></a></li><li><a class="level is-mobile" href="#哈希"><span class="level-left"><span class="level-item">16.3</span><span class="level-item">哈希</span></span></a></li></ul></li><li><a class="level is-mobile" href="#3111-覆盖所有点的最少矩形数目"><span class="level-left"><span class="level-item">17</span><span class="level-item">3111. 覆盖所有点的最少矩形数目</span></span></a></li><li><a class="level is-mobile" href="#3007-价值和小于等于-K-的最大数字"><span class="level-left"><span class="level-item">18</span><span class="level-item">3007. 价值和小于等于 K 的最大数字</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#公式法"><span class="level-left"><span class="level-item">18.1</span><span class="level-item">公式法</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#思路"><span class="level-left"><span class="level-item">18.1.1</span><span class="level-item">思路</span></span></a></li><li><a class="level is-mobile" href="#公式推导"><span class="level-left"><span class="level-item">18.1.2</span><span class="level-item">公式推导</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#2961-双模幂运算"><span class="level-left"><span class="level-item">19</span><span class="level-item">2961. 双模幂运算</span></span></a></li><li><a class="level is-mobile" href="#682-棒球比赛"><span class="level-left"><span class="level-item">20</span><span class="level-item">682. 棒球比赛</span></span></a></li><li><a class="level is-mobile" href="#3106-满足距离约束且字典序最小的字符串"><span class="level-left"><span class="level-item">21</span><span class="level-item">3106. 满足距离约束且字典序最小的字符串</span></span></a></li><li><a class="level is-mobile" href="#2740-找出分区值"><span class="level-left"><span class="level-item">22</span><span class="level-item">2740. 找出分区值</span></span></a></li><li><a class="level is-mobile" href="#2844-生成特殊数字的最少操作"><span class="level-left"><span class="level-item">23</span><span class="level-item">2844. 生成特殊数字的最少操作</span></span></a></li><li><a class="level is-mobile" href="#2766-重新放置石块"><span class="level-left"><span class="level-item">24</span><span class="level-item">2766. 重新放置石块</span></span></a></li><li><a class="level is-mobile" href="#2101-引爆最多的炸弹"><span class="level-left"><span class="level-item">25</span><span class="level-item">2101. 引爆最多的炸弹</span></span></a></li><li><a class="level is-mobile" href="#1186-删除一次得到子数组最大和"><span class="level-left"><span class="level-item">26</span><span class="level-item">1186. 删除一次得到子数组最大和</span></span></a></li><li><a class="level is-mobile" href="#3133-数组最后一个元素的最小值"><span class="level-left"><span class="level-item">27</span><span class="level-item">3133. 数组最后一个元素的最小值</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#思路-1"><span class="level-left"><span class="level-item">27.1</span><span class="level-item">思路</span></span></a></li></ul></li><li><a class="level is-mobile" href="#2850-将石头分散到网格图的最少移动次数"><span class="level-left"><span class="level-item">28</span><span class="level-item">2850. 将石头分散到网格图的最少移动次数</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#暴力分子"><span class="level-left"><span class="level-item">28.1</span><span class="level-item">暴力分子</span></span></a></li><li><a class="level is-mobile" href="#枚举"><span class="level-left"><span class="level-item">28.2</span><span class="level-item">枚举</span></span></a></li><li><a class="level is-mobile" href="#全排列"><span class="level-left"><span class="level-item">28.3</span><span class="level-item">全排列</span></span></a></li></ul></li><li><a class="level is-mobile" href="#3096-得到更多分数的最少关卡数目"><span class="level-left"><span class="level-item">29</span><span class="level-item">3096. 得到更多分数的最少关卡数目</span></span></a></li><li><a class="level is-mobile" href="#3112-访问消失节点的最少时间"><span class="level-left"><span class="level-item">30</span><span class="level-item">3112. 访问消失节点的最少时间</span></span></a></li><li><a class="level is-mobile" href="#3145-大数组元素的乘积"><span class="level-left"><span class="level-item">31</span><span class="level-item">3145. 大数组元素的乘积</span></span></a></li><li><a class="level is-mobile" href="#2956-找到两个数组中的公共元素"><span class="level-left"><span class="level-item">32</span><span class="level-item">2956. 找到两个数组中的公共元素</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/home/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/home/">Meow!!</a><p class="is-size-7"><span>&copy; 2025 Meow Meow Liu</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/home/js/column.js"></script><script src="/home/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/home/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/home/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/home/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/home/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script><script type="text/javascript" src="/home/js/fairyDustCursor.js"></script><link rel="stylesheet" type="text/css" href="/home/css/textPopup.css"><script type="text/javascript" src="/home/js/textPopup.js"></script><script type="text/javascript" src="/home/js/clickClipBoard.js"></script><script type="module" src="/home/js/mermaidInitializer.js"></script><script src="/home/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/home/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":200,"height":400},"mobile":{"show":true}});</script></body></html>